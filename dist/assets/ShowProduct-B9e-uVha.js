import{c as N,r as a,j as e,g as y,a as u,b as w,h as v,d as h}from"./index-Dmikh2cL.js";import{N as P,M as S,F as k}from"./Footer-DgBiQEKG.js";import{S as c}from"./sweetalert2.esm.all-BflImI8Z.js";const z=()=>{const o=N(),[m,p]=a.useState([]),[n,d]=a.useState([]);var i=[];async function l(){const s=(await y(u(h,"products"))).val();for(var r in s)i.push({id:r,...s[r]});const j=w.currentUser.uid,x=i.filter(g=>g.userId==j);p(x),d(x)}async function b(t){c.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(async s=>{if(s.isConfirmed)try{await v(u(h,`/products/${t}`)),c.fire({title:"Deleted!",text:"Product has been deleted successfully.",icon:"success"}),l()}catch{c.fire({title:"Error!",text:"Product can't be deleted.",icon:"error"})}})}function f(t){const s=m.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())||r.price?.toString().includes(t)||r.stock?.toString().includes(t));d(s)}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsxs("div",{className:"max-w-6xl mx-auto mt-10 px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-800",children:"My Products"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg shadow-md transition text-[15px] md:text-[20px]",onClick:()=>o("/addProduct"),children:"+ Add Product"})]}),e.jsx("div",{className:"my-3",children:e.jsx("input",{type:"search",name:"",id:"",className:"form-control",placeholder:"Search Product by Name/Price/Stock",onChange:t=>{f(t.target.value)}})}),e.jsx("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden border border-gray-200 overflow-x-auto md:overflow-x-hidden",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700 uppercase text-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"py-4 px-6 hidden md:block lg:block",children:"No"}),e.jsx("th",{className:"py-4 px-6",children:"Name"}),e.jsx("th",{className:"py-4 px-6",children:"Price"}),e.jsx("th",{className:"py-4 px-6",children:"Stock"}),e.jsx("th",{className:"py-4 px-6",children:"action"})]})}),e.jsx("tbody",{children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-500 text-lg",children:"No products found"})}):n.map((t,s)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"py-4 px-6 hidden md:block lg:block",children:s+1}),e.jsx("td",{className:"py-4 px-6 font-medium text-gray-800 text-capitalize  ",children:t.name}),e.jsxs("td",{className:"py-4 px-6 text-green-600 font-semibold",children:["$",t.price]}),e.jsx("td",{className:"py-4 px-6",children:t.stock}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-info text-capitalize",onClick:()=>{o(`/editProduct/${t.id}`)},children:"edit"}),e.jsx("button",{className:"btn btn-danger text-capitalize",onClick:()=>b(t.id),children:"delete"})]})})]},t.id))})]})})]}),e.jsx(S,{}),e.jsx(k,{})]})};export{z as default};
