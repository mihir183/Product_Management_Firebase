import{u as p,c as x,e as h,r as b,j as e,g as j,a as c,b as f,s as N,p as g,d as l,f as y}from"./index-Dmikh2cL.js";import{N as P,M as v,F as w}from"./Footer-DgBiQEKG.js";const k=()=>{const{register:r,handleSubmit:n,reset:i}=p(),o=x(),{id:t}=h();async function d(s){if(t==null)try{const m={userId:f.currentUser.uid,...s};await N(g(c(l,"products")),m),o("/showProduct",{state:{message:"Product added successfully!"}})}catch(a){console.log(a)}else try{await y(c(l,`products/${t}`),s).then(a=>{o("/showProduct")})}catch(a){console.log(a)}}async function u(){const s=await j(c(l,`products/${t}`));i(s.val())}return b.useEffect(()=>{u()},[t]),e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx(v,{}),e.jsx(w,{}),e.jsx("div",{className:"background py-5 px-3",children:e.jsxs("div",{className:"col-lg-6 mx-auto bg-light p-5 rounded-3",children:[t==null?e.jsx("h2",{className:"text-capitalize",children:"add product"}):e.jsx("h2",{className:"text-capitalize",children:"update product"}),e.jsxs("form",{action:"",onSubmit:n(d),children:[e.jsx("label",{htmlFor:"name",className:"form-label text-capitalize",children:"name"}),e.jsx("input",{type:"text",...r("name"),id:"name",className:"form-control mb-2",placeholder:"Enter Product Name",required:!0}),e.jsx("label",{htmlFor:"price",className:"form-label text-capitalize",children:"price"}),e.jsx("input",{type:"number",...r("price"),id:"price",className:"form-control mb-2",placeholder:"Enter Product Price (â‚¹)",required:!0}),e.jsx("label",{htmlFor:"stock",className:"form-label text-capitalize",children:"total stock"}),e.jsx("input",{type:"number",...r("stock"),id:"stock",className:"form-control mb-2",placeholder:"Enter Available Stock",required:!0}),t==null?e.jsx("button",{className:"btn btn-primary text-capitalize mt-2",children:"add product"}):e.jsx("button",{className:"btn btn-warning text-capitalize mt-2",children:"edit product"})]})]})})]})};export{k as default};
